<div class="container mt-5">
  <h2 class="text-center mb-4">Criar Novo Produto</h2>

  <!-- Exibe a mensagem se as categorias ainda estiverem sendo carregadas -->
  <div *ngIf="!categoriesLoaded" class="text-center">
    <p>Carregando categorias...</p>
  </div>

  <!-- Exibe a mensagem se não houver categorias cadastradas -->
  <div *ngIf="categoriesLoaded && categories.length === 0" class="text-center">
    <p class="text-danger">Nenhuma categoria cadastrada. Cadastre uma categoria antes de criar um produto.</p>
  </div>

  <!-- Formulário de criação de produto -->
  <form (ngSubmit)="createProduct()" *ngIf="categoriesLoaded && categories.length > 0">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="form-group">
          <label for="name">Nome do Produto</label>
          <input
            type="text"
            class="form-control"
            id="name"
            [(ngModel)]="product.name"
            name="name"
            required
            placeholder="Digite o nome do produto"
          />
        </div>

        <div class="form-group">
          <label for="price">Preço</label>
          <input
            type="number"
            class="form-control"
            id="price"
            [(ngModel)]="product.price"
            name="price"
            required
            placeholder="Digite o preço do produto"
          />
        </div>

        <div class="form-group">
          <label for="category">Categoria</label>
          <select
            class="form-control"
            id="category"
            [(ngModel)]="product.category"
            name="category"
            required
          >
            <option value="" disabled selected>Selecione uma categoria</option>
            <option *ngFor="let category of categories" [ngValue]="category">{{ category.name }}</option>
          </select>
        </div>

        <button
          type="submit"
          class="btn btn-primary mt-3"
          [disabled]="isCreateButtonDisabled()"
        >
          Criar Produto
        </button>
      </div>
    </div>
  </form>
</div>
